<!DOCTYPE html>
<html class="no-js">
  <head {{ with .Site.LanguageCode }}lang="{{ . }}"{{ end }}>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=10" />
    <title>{{ .Title }}{{ if not .IsHome }} &middot; {{ .Site.Title }}{{ end }}</title>
    {{ if .Description }}<meta name="description" content="{{ .Description | markdownify | safeHTML }}">{{else}}{{ with .Site.Params.description }}<meta name="description" content="{{ . | markdownify | safeHTML }}">{{ end }}{{ end }}
    {{ .Hugo.Generator }}
    
    {{ with .Site.Params.description }}<meta name="description" content="{{ . }}">{{ end }}
    <link rel="canonical" href="{{ .Permalink }}">
    {{ with .OutputFormats.Get "amp" }}<link rel="amphtml" href="{{ .Permalink }}">{{ end }}

    {{ with .Site.Params.author }}<meta name="author" content="{{ . }}">{{ end }}

    {{ with .Site.Title }}<meta name="apple-mobile-web-app-title" content="{{ . }}">{{ end }}
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <link rel="shortcut icon" type="image/x-icon" href="{{ with .Site.Params.favicon }}{{ . | absURL }}{{ else }}{{ "images/favicon.ico" | absURL }}{{ end }}">
    <link rel="icon" type="image/x-icon" href="{{ with .Site.Params.favicon }}{{ . | absURL }}{{ else }}{{ "images/favicon.ico" | absURL }}{{ end }}">

    <style>
      @font-face {
        font-family: 'Icon';
        src: url('{{ "fonts/icon.eot?52m981" | absURL }}');
        src: url('{{ "fonts/icon.eot?#iefix52m981" | absURL }}')
               format('embedded-opentype'),
             url('{{ "fonts/icon.woff?52m981" | absURL }}')
               format('woff'),
             url('{{ "fonts/icon.ttf?52m981" | absURL }}')
               format('truetype'),
             url('{{ "fonts/icon.svg?52m981#icon" | absURL }}')
               format('svg');
        font-weight: normal;
        font-style: normal;
      }
    </style>

    {{ with resources.Get "scss/application.scss" | toCSS  "css/application.css" | minify | fingerprint }}<link rel="stylesheet" href="{{ .Permalink }}" integrity="{{ .Data.Integrity }}">{{ end }}
    {{/* with resources.Get "scss/palettes.scss" | toCSS "css/palettes.css" | minify | fingerprint }}<link rel="stylesheet" href="{{ .Permalink }}" integrity="{{ .Data.Integrity }}">{{ end */}}

    {{/* if .IsPage }}
    {{ with .Site.Params.highlight_css }}
    <link rel="stylesheet" href="{{ . | absURL }}">
    {{ else }}
    {{ with resources.Get "scss/highlight/highlight.scss" | toCSS "css/highlight.css" | minify | fingerprint }}<link rel="stylesheet" href="{{ .Permalink }}" integrity="{{ .Data.Integrity }}">{{ end }}
    {{ end }}
    {{ end */}}

    {{/* set default values if no custom ones are defined */}}
    {{ $text := or .Site.Params.font.text "Roboto" }}
    {{ $code := or .Site.Params.font.code "Roboto Mono" }}
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family={{ $text }}:400,700|{{ replace  $code " " "+" | safeURL }}">
    <style>
      body, input {
        font-family: '{{ $text }}', Helvetica, Arial, sans-serif;
      }
      pre, code {
        font-family: '{{ $code }}', 'Courier New', 'Courier', monospace;
      }
    </style>

    {{ range .Site.Params.custom_css }}
    <link rel="stylesheet" href="{{ . | absURL }}">
    {{ end }}
    {{ with resources.Get "javascripts/modernizr.js" | fingerprint }}<script async src="{{ .Permalink }}" integrity="{{ .Data.Integrity }}"></script>{{ end }}

    {{ with .RSSLink }}
    <link href="{{ . }}" rel="alternate" type="application/rss+xml" title="{{ $.Site.Title }}" />
    <link href="{{ . }}" rel="feed" type="application/rss+xml" title="{{ $.Site.Title }}" />
    {{ end }}

    {{ template "_internal/opengraph.html" . }}
    {{ template "_internal/google_news.html" . }}
    {{ template "_internal/twitter_cards.html" . }}
    {{ partial "google-gtag.html" . }}
    {{ partial "google-ads.html" . }}
    {{ partial "json-ld.html" . }}
    {{ if .IsPage }}{{ with .Site.Params.sharethis }}
    <script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property={{.}}&product=social-ab" async="async"></script>
    {{ end }}{{ end }}
    {{ partial "hotjar" . }}
  </head>
  <body class="{{ with .Site.Params.palette.primary }}palette-primary-{{ . }}{{end }} {{ with .Site.Params.palette.accent }}palette-accent-{{ .  }}{{ end }}">
